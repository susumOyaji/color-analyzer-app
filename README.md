# ChromaLens - Advanced Color Analyzer

画像から主要な色を抽出し、カラーパレットや配色パターン（ハーモニー）を生成するWebアプリケーションです。Python (Flask) と機械学習ライブラリ (scikit-learn) を使用して、アップロードされた画像を解析します。

## 特徴

- **主要色の抽出**: K-meansクラスタリングアルゴリズムを使用して、画像から支配的な色を抽出します。
- **配色パターン生成**: 抽出した色を基に、補色、類似色、トライアドなどの配色調和を自動生成します。
- **スキャン解析**: 画像を垂直方向にスライスし、部分ごとの色の変化を可視化します。
- **インタラクティブなUI**: ドラッグ＆ドロップによる画像アップロード、クリップボードへのカラーコードコピー機能、レスポンシブデザイン。

## 必要要件

- Python 3.8 以上
- 最新のWebブラウザ (Chrome, Edge, Firefox, Safariなど)

## インストール

プロジェクトディレクトリで以下のコマンドを実行し、必要なPythonライブラリをインストールしてください。

```bash
pip install flask flask-cors pillow numpy scikit-learn
```

## 使い方

1. **バックエンドサーバーの起動**
   
   ターミナルで以下のコマンドを実行します。

   ```bash
   python server.py
   ```

   サーバーが起動し、`Running on http://127.0.0.1:5000` と表示されます。このターミナルは開いたままにしてください。

2. **アプリケーションの起動**

   フォルダ内の `index.html` ファイルをダブルクリックして、ブラウザで開きます。

3. **解析の実行**
   
   - 画面に画像をドラッグ＆ドロップするか、「ファイルを選択」をクリックして画像を読み込みます。
   - 「解析実行」ボタンを押すと、主要な色が抽出されます。
   - 「スキャン解析」ボタンを押すと、画像の色の推移が分析されます。
   - カラーカードをクリックすると、HEXカラーコードがクリップボードにコピーされます。

## ファイル構成

- **server.py**: Flaskを使用したバックエンドサーバー。画像処理とK-meansクラスタリングのロジックを含みます。
- **index.html**: アプリケーションのメイン画面。
- **style.css**: アプリケーションのスタイル定義。
- **app.js**: フロントエンドのロジック。サーバーとの通信やDOM操作を行います。
- **extract_colors.py**: コマンドラインから単体の画像を解析するためのスクリプトです。

## 技術スタック

- **Backend**: Python, Flask, scikit-learn (KMeans), Pillow (PIL), NumPy
- **Frontend**: HTML5, CSS3, JavaScript (Vanilla), Cropper.js, FontAwesome
